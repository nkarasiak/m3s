
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples\test_s2_simple.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_test_s2_simple.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_test_s2_simple.py:


Simple test for S2 grid functionality.

.. GENERATED FROM PYTHON SOURCE LINES 4-43




.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Testing S2 at different levels...

    Level 4:
      Center cell: 47f
      Cell bounds: (-0.0, 44.88814378891051, 6.027530295521267, 50.01876534108111)
      Intersects bbox: True
      Intersects method result: 1 cells
      SUCCESS at level 4!






|

.. code-block:: Python


    import warnings

    warnings.simplefilter("ignore")

    import geopandas as gpd
    from shapely.geometry import box

    from m3s import S2Grid

    # Create a simple test
    bbox = box(2.25, 48.82, 2.42, 48.90)
    test_gdf = gpd.GeoDataFrame({"name": ["Paris Area"]}, geometry=[bbox], crs="EPSG:4326")

    print("Testing S2 at different levels...")

    for level in [4, 5, 6]:
        grid = S2Grid(level=level)

        # Test with a point in the center
        center_lat, center_lon = 48.85, 2.35
        cell = grid.get_cell_from_point(center_lat, center_lon)
        intersects_bbox = cell.polygon.intersects(bbox)

        print(f"\nLevel {level}:")
        print(f"  Center cell: {cell.identifier}")
        print(f"  Cell bounds: {cell.polygon.bounds}")
        print(f"  Intersects bbox: {intersects_bbox}")

        # Test the intersects method
        result = grid.intersects(test_gdf)
        print(f"  Intersects method result: {len(result)} cells")

        if len(result) > 0:
            print(f"  SUCCESS at level {level}!")
            break
    else:
        print("\nNo level worked with the intersects method.")
        print("This indicates an issue with the get_cells_in_bbox implementation.")


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 0.007 seconds)


.. _sphx_glr_download_auto_examples_test_s2_simple.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: test_s2_simple.ipynb <test_s2_simple.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: test_s2_simple.py <test_s2_simple.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: test_s2_simple.zip <test_s2_simple.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
